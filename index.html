<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Meme Coin Site Builder</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    * { box-sizing: border-box; }
    body {
      background: #0e0e0e;
      color: #fff;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }
    h1 {
      font-size: 2.5rem;
      background: linear-gradient(90deg, #00ffe0, #ff00ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-family: 'Orbitron', sans-serif;
      text-align: center;
      margin-bottom: 2rem;
    }
    .form {
      width: 100%;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .form-group {
      display: flex;
      flex-direction: column;
    }
    label {
      font-size: 0.95rem;
      margin-bottom: 6px;
      color: #aaa;
    }
    input, textarea, select, button {
      padding: 14px;
      border-radius: 10px;
      border: 1px solid #333;
      font-size: 1rem;
      background: #1c1c1c;
      color: white;
    }
    input:focus, textarea:focus, select:focus {
      border-color: #00ffe0;
      outline: none;
    }
    button {
      background: linear-gradient(45deg, #00ffe0, #ff00ff);
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    button:hover {
      transform: scale(1.03);
    }
    iframe {
      margin-top: 40px;
      width: 100%;
      max-width: 1100px;
      height: 600px;
      border: 2px solid #333;
      border-radius: 12px;
      display: none;
    }
  </style>
</head>
<body>
  <h1>Meme Coin Site Builder</h1>
  <div class="form">
    <div class="form-group"><label>Coin Name</label><input id="coinName" placeholder="$NUTPEPE" /></div>
    <div class="form-group"><label>Tagline</label><input id="tagline" placeholder="The future is dairy-fueled" /></div>
    <div class="form-group"><label>Description</label><textarea id="description" placeholder="What is your coin about?"></textarea></div>
    <div class="form-group"><label>Tokenomics</label><textarea id="tokenomics" placeholder="List each item on a new line"></textarea></div>
    <div class="form-group"><label>Roadmap</label><textarea id="roadmap" placeholder="Q1 Launch, Q2 Rug, Q3 Rebirth"></textarea></div>
    <div class="form-group"><label>Telegram Link</label><input id="telegram" placeholder="https://t.me/yourcoin" /></div>
    <div class="form-group"><label>Twitter/X Link</label><input id="twitter" placeholder="https://twitter.com/yourcoin" /></div>
    <div class="form-group"><label>Color Theme</label>
      <select id="colorTheme">
        <option value="#00ffe0,#ff00ff">Neon (Teal + Magenta)</option>
        <option value="#facc15,#ef4444">Gold + Red</option>
        <option value="#4ade80,#06b6d4">Green + Aqua</option>
        <option value="#9333ea,#f472b6">Purple + Pink</option>
        <option value="#38bdf8,#22c55e">Sky + Lime</option>
        <option value="#f97316,#e11d48">Orange + Rose</option>
      </select>
    </div>
    <div class="form-group"><label>Upload Banner Image</label><input type="file" id="bannerImage" accept="image/*" /></div>
    <div class="form-group"><label>Upload Logo Image</label><input type="file" id="logoImage" accept="image/*" /></div>
    <button onclick="generatePreview()">Generate Preview</button>
    <button onclick="downloadSite()">Download Site Files (ZIP)</button>
    <button onclick="githubLogin()">Host on GitHub</button>
  </div>
  <iframe id="previewFrame"></iframe>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
  <script>
    let bannerData = '', logoData = '';
    document.getElementById('bannerImage').addEventListener('change', e => toBase64(e.target.files[0], d => bannerData = d));
    document.getElementById('logoImage').addEventListener('change', e => toBase64(e.target.files[0], d => logoData = d));

    function toBase64(file, callback) {
      const reader = new FileReader();
      reader.onload = () => callback(reader.result);
      reader.readAsDataURL(file);
    }

    function buildHTML() {
      const name = document.getElementById('coinName').value.trim();
      const tagline = document.getElementById('tagline').value.trim();
      const description = document.getElementById('description').value.trim();
      const tokenomics = document.getElementById('tokenomics').value.trim().split("\n").map(t => `<li>${t}</li>`).join('');
      const roadmap = document.getElementById('roadmap').value.trim().split("\n").map(r => `<li>${r}</li>`).join('');
      const telegram = document.getElementById('telegram').value.trim();
      const twitter = document.getElementById('twitter').value.trim();
      const colors = document.getElementById('colorTheme').value.split(',');

      return `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${name} - Meme Coin</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; font-family: 'Poppins', sans-serif; background: #0c0c0c; color: white; }
    header { background: linear-gradient(135deg, ${colors[0]}, ${colors[1]}); text-align: center; padding: 4rem 2rem; color: black; font-family: 'Orbitron', sans-serif; }
    header img.banner { max-width: 100%; height: auto; border-radius: 12px; margin-bottom: 2rem; }
    header h1 { font-size: 3.5rem; margin: 0; }
    header h2 { font-size: 1.5rem; margin-top: 0.5rem; }
    .content { max-width: 900px; margin: auto; padding: 2rem; }
    h3 { color: ${colors[0]}; font-size: 1.8rem; margin-bottom: 1rem; }
    ul { list-style: none; padding: 0; line-height: 1.8; }
    a { color: ${colors[1]}; font-weight: bold; text-decoration: none; }
    .logo { width: 100px; border-radius: 50%; margin: 2rem auto; display: block; }
    .cta { display: inline-block; margin: 2rem auto 0; background: ${colors[1]}; color: black; font-weight: bold; padding: 1rem 2rem; border-radius: 10px; box-shadow: 0 0 10px ${colors[1]}; }
  </style>
</head>
<body>
  <header>
    ${bannerData ? `<img src="${bannerData}" class="banner" alt="Banner" />` : ''}
    <h1>${name}</h1>
    <h2>${tagline}</h2>
  </header>
  ${logoData ? `<img src="${logoData}" class="logo" alt="Logo" />` : ''}
  <div class="content">
    <section><h3>About</h3><p>${description}</p></section>
    <section><h3>Tokenomics</h3><ul>${tokenomics}</ul></section>
    <section><h3>Roadmap</h3><ul>${roadmap}</ul></section>
    <section><h3>Community</h3>
      ${telegram ? `<p><a href="${telegram}" target="_blank">Join Telegram</a></p>` : ''}
      ${twitter ? `<p><a href="${twitter}" target="_blank">Follow on Twitter/X</a></p>` : ''}
    </section>
    <a class="cta" href="#">Launch Token</a>
  </div>
</body>
</html>`;
    }

    function generatePreview() {
      const preview = document.getElementById("previewFrame");
      const html = buildHTML();
      const blob = new Blob([html], { type: "text/html" });
      const url = URL.createObjectURL(blob);
      preview.style.display = "block";
      preview.src = url;
    }

    function downloadSite() {
      const html = buildHTML();
      const name = document.getElementById('coinName').value.trim();
      const zip = new JSZip();
      zip.file("index.html", html);
      if (bannerData) zip.file("images/banner.png", bannerData.split(",")[1], { base64: true });
      if (logoData) zip.file("images/logo.png", logoData.split(",")[1], { base64: true });
      zip.generateAsync({ type: "blob" }).then(content => {
        saveAs(content, `${name.replace(/[^a-zA-Z0-9]/g, '') || 'memecoin'}-site.zip`);
      });
    }

    function githubLogin() {
      const clientId = "YOUR_GITHUB_CLIENT_ID";
      const redirectUri = window.location.origin + "/auth/callback";
      const scope = "repo";
      const githubAuthUrl = `https://github.com/login/oauth/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scope}`;
      window.open(githubAuthUrl, "_blank");
    }
  </script>
</body>
</html>
